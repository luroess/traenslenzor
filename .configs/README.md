# Configuration Files

This directory contains exported experiment configurations in TOML and PlantUML formats.

## Usage

### Creating a Config

Generate a TOML configuration:

```bash
uv run python traenslenzor/doc_classifier/export_demo_config.py
```

This creates `demo_experiment.toml` with sensible defaults.

### Loading a Config

```python
from traenslenzor.doc_classifier.configs import ExperimentConfig

# Load from TOML
config = ExperimentConfig.from_toml(".configs/my_experiment.toml")

# Or load from PlantUML
config = ExperimentConfig.from_puml(".configs/my_experiment.puml")
```

### Editing Configs

TOML files are human-editable. Key sections:

- **`[module_config]`** - Model architecture (backbone=1 for AlexNet, 2 for ResNet50, 3 for ViT)
- **`[module_config.optimizer]`** - Learning rate, weight decay
- **`[module_config.scheduler]`** - Learning rate schedule parameters
- **`[trainer_config]`** - Max epochs, precision, hardware settings
- **`[datamodule_config]`** - Batch size, num_workers
- **`[datamodule_config.train_dataset.transform_config]`** - Data augmentation settings

### Running Training

```python
config = ExperimentConfig.from_toml(".configs/my_experiment.toml")
config.setup_target_and_run(stage="train")
```

## File Types

- **`.toml`** - Human-editable configuration format
- **`.puml`** - PlantUML diagram with embedded JSON (generated by `config.export_puml()`)
